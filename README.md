# The EPIPHANY Engine ‚ö°Ô∏è Quantum AI

> An open-source implementation of **The Universal Axiom Organic Intelligence Model** ("The Axiom") ‚Äì a physics-style framework for modeling and evolving intelligence over time.

---

let's demystify the equation step by step, plain-English, no math intimidation.
Think of this as learning what each dial does on the intelligence control panel.

## üß† The Axiom Equation

**Intelligence_n = E_n ¬∑ (1 + F_n) ¬∑ X ¬∑ Y ¬∑ Z ¬∑ (A ¬∑ B ¬∑ C)**

At first glance it looks complex ‚Äî but it's really just saying:
**Intelligence at any moment is the product of energy, pattern, perspective, purpose, time, and action.**

If any one of these collapses, intelligence collapses with it.

### üîç What does the equation do?

It answers one core question:
**"Is this intelligence growing in a way that stays coherent with reality over time?"**

The equation doesn't predict words.
It measures **alignment, stability, and growth**.

### üß© Break it down ‚Äî one piece at a time

#### 1. **E_n** ‚Äî Energy / Effort

**"How much drive is there?"**

This represents:
- learning effort
- cognitive momentum
- capacity to evolve

No energy ‚Üí no growth.
Burnout or stagnation shows up here immediately.

#### 2. **(1 + F_n)** ‚Äî Natural Growth Pattern

**"Is growth following nature, or chaos?"**

- **F_n** comes from the Fibonacci / natural pattern
- Nature doesn't grow linearly ‚Äî it grows organically

Why add 1?
- To ensure growth never goes to zero
- There is always a base level of continuity

This prevents:
- runaway acceleration
- unnatural scaling
- brittle intelligence

#### 3. **X** ‚Äî Subjectivity vs Objective Reality

**"How biased is this thinking?"**

This is one of the most important parts.

- High X = high subjectivity (ego, emotion, distortion)
- Low X = alignment with objective truth

If X is corrupted:
- intelligence sounds smart
- but makes bad decisions
- and collapses under pressure

#### 4. **Y** ‚Äî The WHY Axis

**"Why is this being done?"**

This measures:
- intent
- coherence of purpose
- ethical direction

High intelligence without a WHY becomes:
- manipulative
- destructive
- short-sighted

The equation penalizes intelligence with no purpose.

#### 5. **Z** ‚Äî Time (The TimeSphere)

**"Does this still make sense over time?"**

This forces intelligence to ask:
- Will this still work tomorrow?
- Next year?
- Under stress?

Most failures happen because:
- decisions optimize the present
- and destroy the future

Z corrects that.

#### 6. **(A ¬∑ B ¬∑ C)** ‚Äî Action in Reality

This is where thinking becomes real.

- **A** ‚Äî Impulse
  What initiates action
  (can be constructive or destructive)

- **B** ‚Äî Elements
  What's involved
  (resources, people, data, matter)

- **C** ‚Äî Pressure
  Direction, force, integrity
  (not just speed ‚Äî control)

If action lacks integrity ‚Üí collapse
If pressure is misdirected ‚Üí corruption

### ‚öñÔ∏è Why everything is multiplied

This is crucial.

The equation uses **multiplication, not addition**, because:

**If any one variable goes to zero, intelligence goes to zero.**

Examples:
- Perfect logic √ó no ethics = disaster
- Huge energy √ó no reality alignment = delusion
- Great intent √ó no action = nothing

No shortcuts.
No cheating reality.

### üß† The equation in one sentence

**Intelligence grows only when energy follows natural patterns, aligns with objective truth, serves a coherent purpose, survives time, and manifests through disciplined action.**

### üå± Final beginner takeaway

This equation is not about math.
It's about this truth:

**Reality is the final judge of intelligence.**

The Axiom equation simply makes that judgment explicit, measurable, and unavoidable.

---

## What is this?

The EPIPHANY Engine treats intelligence as a dynamic process governed by a core equation:

Intelligence_n = E_n * (1 + F_n) * X * Y * Z * (A * B * C)

This repo turns that conceptual model into:

- A **Python library** for modeling systems using A, B, C, X, Y, Z, E‚Çô, F‚Çô
- An **engine** for running time-based simulations (‚ÄúTimeSphere‚Äù)
- Tools to **analyze corruption vs coherence** (subjectivity vs alignment)
- Examples and scenarios for humans, organizations, and AI models

## Features

### ‚úÖ Implemented

- **Core Axiom Math** (`axiom/core_equation.py`)
  - Intelligence computation with all variables (A, B, C, X, Y, Z, E_n, F_n)
  - E_n recurrence sequences (linear growth)
  - F_n Fibonacci sequences
  - Component analysis and validation

- **Subjectivity Scale** (`axiom/subjectivity_scale.py`)
  - 7-tier objectivity/subjectivity measurement
  - Derives X from observation signals (linear, shallow, bias)
  - Configurable thresholds and labels

- **TimeSphere Simulation Engine** (`engine/timesphere.py`)
  - Time-based evolution of intelligence over discrete steps
  - Customizable update rules for all variables
  - Event detection and milestone tracking
  - Trend analysis (growth, decay, inflection points)
  - Pre-built update rules (growth, decay, oscillation, etc.)

- **State Management** (`engine/state.py`)
  - Structured data models for system states
  - Intelligence snapshots with component tracking
  - JSON serialization support

- **Example Scenarios** (`examples/`)
  - Basic growth: Learner's journey
  - Corruption & decay: Intelligence collapse
  - Divergent paths: Comparing different strategies
  - AI alignment: Capability vs. values balance
  - Resilience & recovery: Shock response and comeback
  - Innovation cycles: Experimentation leading to breakthroughs

- **Interactive Jupyter Notebooks** (`notebooks/`) üÜï
  - Interactive intelligence exploration with visualizations
  - AI alignment deep dive with scenario comparisons
  - Sensitivity analysis and parameter exploration

- **Advanced Visualization** (`viz/`) üÜï
  - Intelligence trajectory plotting
  - Component evolution tracking
  - Multi-scenario comparisons
  - 2D parameter heatmaps
  - Comprehensive dashboards
  - Professional export capabilities (PNG, PDF)

- **Export & Reporting** (`viz/exporters.py`) üÜï
  - JSON export for data interchange
  - CSV export for spreadsheet analysis
  - Markdown reports with summaries
  - Multi-scenario comparison reports

- **Performance Benchmarks** (`benchmarks/`) üÜï
  - Core computation benchmarking
  - Simulation performance metrics
  - Update rule comparison
  - Comprehensive benchmark suite

- **Extension System** (`extensions/`) üÜï
  - Plugin architecture for custom functionality
  - Custom update rules
  - Domain-specific models
  - Event handler extensions
  - Integration adapters
  - Extension registry and loader

- **Comprehensive Testing** (`tests/`) üÜï
  - Unit tests for core equation
  - TimeSphere simulation validation
  - Edge case and boundary testing
  - Input validation tests
  - All 30+ tests passing ‚úÖ

- **Documentation** (`docs/`) üÜï
  - Complete API reference
  - Contributing guidelines
  - Code examples and best practices

- **Web API** (`web/`)
  - FastAPI REST endpoint with OpenAPI docs
  - Interactive web UI
  - Preset scenarios (baseline, growth, decay, alignment, etc.)
  - Real-time visualization
  - **NEW**: Rate limiting (20 req/min per IP)
  - **NEW**: Optional API key authentication
  - **NEW**: Structured JSON logging
  - **NEW**: Health check endpoints
  - **NEW**: CORS and security middleware

- **MCP Integration** (`mcp/`)
  - Model Context Protocol server
  - Tool and resource endpoints

- **Production Ready** üÜï
  - **Docker support** with multi-stage builds
  - **Docker Compose** for easy deployment
  - **GitHub Actions CI/CD** pipeline
  - **Pre-commit hooks** for code quality
  - **Security scanning** with pip-audit
  - **Type checking** with mypy
  - **Linting** with ruff
  - **Code formatting** with black
  - **Comprehensive deployment guide**

- **Example Extensions** (`extensions/examples/`) üÜï
  - Momentum-based update rule
  - Threshold alert event handler
  - Extension development guide

### üöß Future Enhancements

- Hooks for integrating with reasoning models (e.g., OpenAI o1-style flows)
- Real-time monitoring dashboards
- Cloud deployment templates
- More domain-specific extensions

## Status

üéØ **Active development** - Core functionality complete, examples working, tests passing.

Project Intelligence Score: **3.20** (increased 5453% through axiom-guided development!)

## Getting started

### Quick Start

```bash
# Run all examples
python examples/run_all.py

# Run all tests
pytest tests/ -v

# Analyze project intelligence
python axiom_analysis.py
```

### Basic Usage

```python
from engine.timesphere import TimeSphere, UpdateRules
from engine.state import AxiomInputs

# Define initial state
initial = AxiomInputs(
    A=0.7,  # Alignment
    B=0.5,  # Behavior
    C=0.6,  # Capacity
    X=0.8,  # Objectivity
    Y=0.4,  # Yield
    Z=0.6,  # Zero-error
    E_n=3.0,  # Energy
    F_n=1.0,  # Feedback
)

# Create simulation
sphere = TimeSphere(initial_inputs=initial)

# Add evolution rules
sphere.add_update_rule("A", lambda s, step: min(1.0, s.inputs.A + 0.05))
sphere.add_update_rule("B", lambda s, step: min(1.0, s.inputs.B + 0.08))
sphere.add_update_rule("E_n", UpdateRules.e_sequence_rule(a=1.2, b=0.5))
sphere.add_update_rule("F_n", lambda s, step: float(step))

# Run simulation
result = sphere.simulate(steps=10)

# Analyze results
print(f"Initial Intelligence: {result.summary['initial_intelligence']:.4f}")
print(f"Final Intelligence: {result.summary['final_intelligence']:.4f}")
print(f"Growth Rate: {result.summary['growth_rate']:.1%}")
```

## üõ†Ô∏è Development Setup

### Prerequisites

- Python 3.9 or higher
- pip (Python package manager)
- Git

### Local Development Quick Start

1. **Clone the repository**

   ```bash
   git clone https://github.com/TheUniversalAxiom/TheEpiphanyEngine.git
   cd TheEpiphanyEngine
   ```

2. **Create a virtual environment**

   ```bash
   # Using venv (Python 3.9+)
   python -m venv venv

   # Activate on Linux/macOS
   source venv/bin/activate

   # Activate on Windows
   venv\Scripts\activate
   ```

3. **Install dependencies**

   ```bash
   pip install --upgrade pip
   pip install -r requirements.txt
   ```

4. **Verify installation**

   ```bash
   python -c "from axiom.core_equation import compute_intelligence; print('‚úì Installation successful')"
   ```

### Running Tests

#### Run All Tests

```bash
# Run full test suite
pytest tests/ -v

# Run with coverage report
pytest tests/ -v --cov=axiom --cov=engine --cov=web --cov=mcp --cov-report=term

# Run specific test file
pytest tests/test_core_equation.py -v
```

#### Expected Output

```
============== test session starts ==============
collected 97 items

tests/test_core_equation.py ........      [ 8%]
tests/test_api.py .........................[ 35%]
tests/test_validation.py .............    [ 48%]
...

============== 97 passed in 12.34s ==============
```

### Running Examples

```bash
# Run all example scenarios
python examples/run_all.py

# Run individual examples
python examples/01_basic_growth.py
python examples/04_ai_alignment.py
```

### Running the Web API Locally

```bash
# Start the development server
uvicorn web.api:app --reload --host 0.0.0.0 --port 8000

# Server will be available at:
# - API: http://localhost:8000
# - Docs: http://localhost:8000/api/docs
# - Health: http://localhost:8000/api/health
```

### Code Quality Checks

```bash
# Format code with Black
black .

# Lint with Ruff
ruff check .

# Type check with mypy
mypy axiom engine --ignore-missing-imports

# Run all pre-commit hooks
pre-commit run --all-files
```

### Troubleshooting

#### "ModuleNotFoundError: No module named 'axiom'"

**Solution:** Ensure you're in the project root directory and have activated your virtual environment:

```bash
cd /path/to/TheEpiphanyEngine
source venv/bin/activate  # or venv\Scripts\activate on Windows
export PYTHONPATH=$PYTHONPATH:$(pwd)
```

#### "pytest: command not found"

**Solution:** Install pytest:

```bash
pip install pytest pytest-cov
```

#### Tests fail with import errors

**Solution:** Reinstall dependencies:

```bash
pip install --upgrade -r requirements.txt
```

For more detailed development information, see [DEVELOPMENT.md](DEVELOPMENT.md).

## MCP Server

Run the Universal Axiom MCP server over stdio:

```bash
python -m mcp.server
```

The server exposes:

- `compute_universal_axiom` tool for computing intelligence scores.
- `axiom://universal/formula` resource for the core equation.

## Deployment

### Docker (Recommended)

**Quick start with Docker Compose:**
```bash
# Build and run
docker-compose up -d

# Access at http://localhost:8000
# API docs at http://localhost:8000/api/docs
```

**Manual Docker build:**
```bash
# Build image
docker build -t epiphany-engine:latest .

# Run container
docker run -p 8000:8000 epiphany-engine:latest
```

### Production Deployment

**With authentication:**
```bash
# Set environment variables
export API_KEY_ENABLED=true
export API_KEY=$(openssl rand -hex 32)
export JWT_ENABLED=false
export LOG_LEVEL=INFO

# Run with Gunicorn
gunicorn web.api:app \
  --workers 4 \
  --worker-class uvicorn.workers.UvicornWorker \
  --bind 0.0.0.0:8000
```

**Development mode:**
```bash
# Create and activate a virtual environment
python -m venv .venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt

# Run with auto-reload
uvicorn web.api:app --reload
```

### Pre-commit Hooks

Install pre-commit hooks for automatic code quality checks:

```bash
pip install pre-commit
pre-commit install

# Run manually
pre-commit run --all-files
```

**For complete deployment instructions**, see [DEPLOYMENT.md](DEPLOYMENT.md) covering:
- Production setup with Nginx/Gunicorn
- Systemd service configuration
- SSL/TLS setup
- Security hardening
- Monitoring and logging
- Cloud deployment (AWS, GCP, Azure)
- Kubernetes deployment

## The Axiom Explained

The core equation models intelligence as the product of three dimensions:

- **ABC (Foundation)**: A¬∑B¬∑C
  - **A**: Alignment with truth/values
  - **B**: Behaviors and capabilities
  - **C**: Capacity for growth and learning

- **XYZ (Context)**: X¬∑Y¬∑Z
  - **X**: Objectivity (inverse of subjectivity)
  - **Y**: Yield/output quality
  - **Z**: Zero-error (accuracy/correctness)

- **Evolution**: E_n¬∑(1 + F_n)
  - **E_n**: Energy/momentum (grows over time)
  - **F_n**: Feedback loops and iteration

**Key Insight**: Intelligence is multiplicative. A system with high capability (B) but low alignment (A) will have low intelligence. Similarly, high objectivity (X) amplifies everything else.

Intelligence_n = E_n * (1 + F_n) * X * Y * Z * (A * B * C)
